name: "aws-github-action-token-rotator"
# Canonical GitHub repo
github_repo: "cloudposse-terraform-components/aws-github-action-token-rotator"
# Short description of this project
description: |-
  This component provisions the
  [Github Action Token Rotator](https://github.com/cloudposse/terraform-aws-github-action-token-rotator).

  It creates an AWS Lambda function that rotates GitHub Action tokens stored in AWS Systems Manager Parameter Store.
usage: |-
  **Stack Level**: Regional

  Here's an example snippet for how to use this component. This is generally deployed once and to the automation account's primary region.

  `stacks/catalog/github-action-token-rotator.yaml` file:

  ```yaml
  components:
    terraform:
      github-action-token-rotator:
        vars:
          enabled: true
          github_org_name: my-org
          github_app_installation_id: 11111111
          github_app_id: 222222
          parameter_store_private_key_path: /github/runners/my-org/privateKey
          parameter_store_token_path: /github/runners/my-org/registrationToken
  ```

  Follow the manual steps using the
  [guide in the upstream module](https://github.com/cloudposse/terraform-aws-github-action-token-rotator#quick-start)
  and use `chamber` to add the secrets to the appropriate stage.
references:
  - name: "cloudposse/terraform-aws-github-action-token-rotator"
    description: ""
    url: "https://github.com/cloudposse/terraform-aws-github-action-token-rotator"
  - name: "Quick Start"
    description: ""
    url: "https://github.com/cloudposse/terraform-aws-github-action-token-rotator#quick-start"
  - name: "cloudposse-terraform-components"
    description: "Cloud Posse's upstream component"
    url: "https://github.com/orgs/cloudposse-terraform-components/repositories"
tags:
  - component/github-action-token-rotator
  - layer/github
  - provider/aws
# Categories of this project
categories:
  - component/github-action-token-rotator
  - layer/github
  - provider/aws
# License of this project
license: "APACHE2"
# Badges to display
badges:
  - name: Latest Release
    image: https://img.shields.io/github/release/cloudposse-terraform-components/aws-github-action-token-rotator.svg?style=for-the-badge
    url: https://github.com/cloudposse-terraform-components/aws-github-action-token-rotator/releases/latest
  - name: Slack Community
    image: https://slack.cloudposse.com/for-the-badge.svg
    url: https://slack.cloudposse.com
related:
  - name: "Cloud Posse Terraform Modules"
    description: Our collection of reusable Terraform modules used by our reference architectures.
    url: "https://docs.cloudposse.com/modules/"
  - name: "Atmos"
    description: "Atmos is like docker-compose but for your infrastructure"
    url: "https://atmos.tools"
contributors: [] # If included generates contribs
